<!DOCTYPE html>
<html>
  <head>
    <title>GM Preferences </title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

    <!-- Base css, but you'll likely want to keep them -->
    <link rel="stylesheet" href="css/reset.css" type="text/css">

    <!-- Your custom files -->
    <link rel="stylesheet" href="css/app.css" type="text/css">
	 <link rel="stylesheet" href="css/grid.css" type="text/css">
	 <link href="https://cdn.rawgit.com/michalsnik/aos/2.1.1/dist/aos.css" rel="stylesheet">
	 <link href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.10/components/button.min.css" rel="stylesheet">
	<link href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/2.2.10/components/icon.min.css" rel="stylesheet">
  <script aync defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDfkxCGt5mt61BiJYLba2ZLrZC4Li8b4Bs&callback=initMap"></script>

    <script src="GMLIB/system.js"></script>
    <script src="GMLIB/info.js"></script>

    <script src="js/jquery-3.2.1.min.js"></script>
    <!-- Uncomment libraries as you need them: -->
    <!-- <script src="GMLIB/comm.js"></script> -->
    <!-- <script src="GMLIB/io.js"></script> -->
    <!-- <script src="GMLIB/media.js"></script> -->
    <!-- <script src="GMLIB/monitor.js"></script> -->
    <script src="GMLIB/nav.js"></script>
    <!-- <script src="GMLIB/phone.js"></script> -->
    <!-- <script src="GMLIB/ui.js"></script> -->
    <!-- <script src="GMLIB/util.js"></script> -->
    <!-- <script src="GMLIB/voice.js"></script> -->

  </head>
  <body>
    <h3>Deals Map</h3>
    <a href="index.html"><button class="ui black button btn">
        Back
    </button></a>
    <div id="map"> </div>
  </body>

  <script>

  // This example displays a marker at the center of Australia.
  // When the user clicks the marker, an info window opens.
  // The maximum width of the info window is set to 200 pixels.

  function initMap() {
    var directionsDisplay = new google.maps.DirectionsRenderer;
    var directionsService = new google.maps.DirectionsService;
    var uluru = {lat: 43.6577971, lng: -79.38109829999996};
    var destination = {lat: 43.6558227, lng: -79.38196419999997};

    var map = new google.maps.Map(document.getElementById('map'), {
      zoom: 0,
      center: uluru
    });
    directionsDisplay.setMap(map);
    calculateAndDisplayRoute(directionsService, directionsDisplay);
    var contentString = '<div id="content">' +
                        '<div id="siteNotice"></div>' +
                        '<h1 id ="store" class="firstHeading">Best Buy Has Deals</h1>' +
                        '<img align="left" src="images/best-buy-deal-1.png">' +
                        '</div>'
                        '</div>';
    var infoWindow = new google.maps.InfoWindow({
      content: contentString,
      maxWidth: 200,
      maxHeight: 1000
      // content: '<img align="Left" src="images/best-buy-deals.jpg" width=50 height=50>'
    });

    var marker = new google.maps.Marker({
      position: destination,
      map: map,
      title: 'Best Buy Sales'
    });
    marker.addListener('click', function() {
      infoWindow.open(map, marker);
    });
  }

  function calculateAndDisplayRoute(directionsService, directionsDisplay) {
    directionsService.route({
      origin: {lat: 43.6577971, lng: -79.38109829999996},
      destination: {lat: 43.6558227, lng: -79.38196419999997},
      travelMode: google.maps.TravelMode["DRIVING"]
    }, function(response, status) {
      if (status == 'OK') {
        directionsDisplay.setDirections(response);
      } else {
        conosle.log('Directions request failed due to ' + status);
      }
    });
  }
</script>

</html>
